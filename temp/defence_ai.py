#def y(self):
#     def DefenseConst(): pass
class DefenseConst:
    def ITEMS_KEEP_LI(self):
        return None == self.ITEMS_KEEP and (self.ITEMS_KEEP = [5, 5, 5]),
        self.ITEMS_KEEP

    
    def LEVELS_KEEP_LI(self):
        return None == self.LEVELS_KEEP and (self.LEVELS_KEEP = [1, 2, 3]),
        self.LEVELS_KEEP

    
    def ITEMS_SUPPORT_TOOLS_LI(self):
        return None == self.ITEMS_SUPPORT_TOOLS and (self.ITEMS_SUPPORT_TOOLS = [6, 6, 6]),
        self.ITEMS_SUPPORT_TOOLS

    
    def LEVELS_SUPPORT_TOOLS_HOME_DWORKSHOP_LI(self):
        return None == self.LEVELS_SUPPORT_TOOLS_HOME_DWORKSHOP and (self.LEVELS_SUPPORT_TOOLS_HOME_DWORKSHOP = [4, 4, 4]),
        self.LEVELS_SUPPORT_TOOLS_HOME_DWORKSHOP

    
    def ITEMS_LEFTWALL_LI(self):
        return None == self.ITEMS_LEFTWALL and (self.ITEMS_LEFTWALL = [1, 1, 1, 1]),
        self.ITEMS_LEFTWALL

    
    def LEVELS_LEFTWALL_LI(self):
        return None == self.LEVELS_LEFTWALL and (self.LEVELS_LEFTWALL = [1, 2, 3, 5]),
        self.LEVELS_LEFTWALL

    
    def ITEMS_SKILLS_LEFTWALL_LI(self):
        return None == self.ITEMS_SKILLS_LEFTWALL and (self.ITEMS_SKILLS_LEFTWALL = [1]),
        self.ITEMS_SKILLS_LEFTWALL

    
    def LEVELS_SKILLS_LEFTWALL_LI(self):
        return None == self.LEVELS_SKILLS_LEFTWALL and (self.LEVELS_SKILLS_LEFTWALL = [506]),
        self.LEVELS_SKILLS_LEFTWALL

    
    def ITEMS_MIDDLEWALL_LI(self):
        return None == self.ITEMS_MIDDLEWALL and (self.ITEMS_MIDDLEWALL = [1, 2, 1, 1, 2, 1]),
        self.ITEMS_MIDDLEWALL

    
    def LEVELS_MIDDLEWALL_LI(self):
        return None == self.LEVELS_MIDDLEWALL and (self.LEVELS_MIDDLEWALL = [2, 2, 3, 5, 6, 9]),
        self.LEVELS_MIDDLEWALL

    
    def PLAYER_LEVEL_WALL_LI(self):
        return None == self.PLAYER_LEVEL_WALL and (self.PLAYER_LEVEL_WALL = [1, 11, 24]),
        self.PLAYER_LEVEL_WALL

    
    def PLAYER_LEVEL_GATE_LI(self):
        return None == self.PLAYER_LEVEL_GATE and (self.PLAYER_LEVEL_GATE = [1, 11, 24]),
        self.PLAYER_LEVEL_GATE

    
    def ITEMS_RIGHTWALL_LI(self):
        return None == self.ITEMS_RIGHTWALL and (self.ITEMS_RIGHTWALL = [1, 1, 1, 1]),
        self.ITEMS_RIGHTWALL

    
    def LEVELS_RIGHTWALL_LI(self):
        return None == self.LEVELS_RIGHTWALL and (self.LEVELS_RIGHTWALL = [1, 2, 3, 5]),
        self.LEVELS_RIGHTWALL

    
    def ITEMS_SKILLS_RIGHTWALL_LI(self):
        return None == self.ITEMS_SKILLS_RIGHTWALL and (self.ITEMS_SKILLS_RIGHTWALL = [1]),
        self.ITEMS_SKILLS_RIGHTWALL

    
    def LEVELS_SKILLS_RIGHTWALL_LI(self):
        return None == self.LEVELS_SKILLS_RIGHTWALL and (self.LEVELS_SKILLS_RIGHTWALL = [506]),
        self.LEVELS_SKILLS_RIGHTWALL

    
    def ITEMS_LEFTMOAT_LI(self):
        return None == self.ITEMS_LEFTMOAT and (self.ITEMS_LEFTMOAT = [4]),
        self.ITEMS_LEFTMOAT

    
    def LEVELS_LEFTMOAT_LI(self):
        return None == self.LEVELS_LEFTMOAT and (self.LEVELS_LEFTMOAT = [1]),
        self.LEVELS_LEFTMOAT

    
    def ITEMS_MIDDLEMOAT_LI(self):
        return None == self.ITEMS_MIDDLEMOAT and (self.ITEMS_MIDDLEMOAT = [4]),
        self.ITEMS_MIDDLEMOAT

    
    def LEVELS_MIDDLEMOAT_LI(self):
        return None == self.LEVELS_MIDDLEMOAT and (self.LEVELS_MIDDLEMOAT = [1]),
        self.LEVELS_MIDDLEMOAT

    
    def ITEMS_RIGHTMOAT_LI(self):
        return None == self.ITEMS_RIGHTMOAT and (self.ITEMS_RIGHTMOAT = [4]),
        self.ITEMS_RIGHTMOAT

    
    def LEVELS_RIGHTMOAT_LI(self):
        return None == self.LEVELS_RIGHTMOAT and (self.LEVELS_RIGHTMOAT = [1]),
        self.LEVELS_RIGHTMOAT

    
    def ITEMS_LEFTWALL_FACTION_LI(self):
        return None == self.ITEMS_LEFTWALL_FACTION and (self.ITEMS_LEFTWALL_FACTION = [1, 1, 1]),
        self.ITEMS_LEFTWALL_FACTION

    
    def LEVELS_LEFTWALL_FACTION_LI(self):
        return None == self.LEVELS_LEFTWALL_FACTION and (self.LEVELS_LEFTWALL_FACTION = [1, 2, 3]),
        self.LEVELS_LEFTWALL_FACTION

    
    def ITEMS_MIDDLEWALL_FACTION_LI(self):
        return None == self.ITEMS_MIDDLEWALL_FACTION and (self.ITEMS_MIDDLEWALL_FACTION = [1, 2, 1, 1, 2]),
        self.ITEMS_MIDDLEWALL_FACTION

    
    def LEVELS_MIDDLEWALL_FACTION_LI(self):
        return None == self.LEVELS_MIDDLEWALL_FACTION and (self.LEVELS_MIDDLEWALL_FACTION = [2, 2, 3, 5, 6]),
        self.LEVELS_MIDDLEWALL_FACTION

    
    def ITEMS_RIGHTWALL_FACTION_LI(self):
        return None == self.ITEMS_RIGHTWALL_FACTION and (self.ITEMS_RIGHTWALL_FACTION = [1, 1, 1]),
        self.ITEMS_RIGHTWALL_FACTION

    
    def LEVELS_RIGHTWALL_FACTION_LI(self):
        return None == self.LEVELS_RIGHTWALL_FACTION and (self.LEVELS_RIGHTWALL_FACTION = [1, 2, 3]),
        self.LEVELS_RIGHTWALL_FACTION

    ,
    self.getFixedPrctOnSide = def(e):
        return Math.round(25 - 2e3 / (e + 80))

    ,
    self.getIndicesOfMaxToMinSorting = def(e):
        var t = [0, 1, 2]
        return e[t[0]] > e[t[1]] ? e[t[2]] > e[t[0]] ? (t[0] = 2,
        t[1] = 0,
        t[2] = 1) : e[t[2]] > e[t[1]] and (t[1] = 2,
        t[2] = 1) : e[t[1]] > e[t[2]] ? e[t[0]] > e[t[2]] ? (t[0] = 1,
        t[1] = 0) : (t[0] = 1,
        t[1] = 2,
        t[2] = 0) : (t[0] = 2,
        t[2] = 0),
        t

    ,
    self.getSideUnitCount = def(e, t):
        var n = [1 * e * t[self.SIDE_LEFT] / 100, 1 * e * t[self.SIDE_MIDDLE] / 100, 1 * e * t[self.SIDE_RIGHT] / 100]
          , i = new Array(3)
        i[0] = 0 | n[0],
        i[1] = 0 | n[1],
        i[2] = 0 | n[2]
        var a = new Array(3)
        a[0] = n[0] - i[0],
        a[1] = n[1] - i[1],
        a[2] = n[2] - i[2]
        var s = Math.round(a[0] + a[1] + a[2])
        if s > 0)
            for var r = self.getIndicesOfMaxToMinSorting(a), o = 0; o < s; o+=1:
                i[r[o]]+=1

        return i

    ,
    self.calculateCastleDefense = def(e, t, n, i, a):
        var s = n.getTotalAmount()
        e = 0 | Math.ceil(e * (1 + t / 100))
        for var r, o, l = Math.min(e, s), u = self.getSideUnitCount(l, i), c = n.getMeleeCount(), _ = n.getRangedCount(), d = new Array(3), m = new Array(3), p = new Array(3), h = new Array(3), g = 0, E = 0, f = 0; f < 3; f+=1)
            p[f] = u[f] * a[f] / 100,
            h[f] = u[f] - p[f],
            g += p[f],
            E += h[f]
        if r = 0 | g,
        o = 0 | E,
        g > c)
            for var C = 0; C < 3; C+=1)
                p[C] = 0 is r ? 0 : c * p[C] / g,
                h[C] = u[C] - p[C]
        else if E > _)
            for var T = 0; T < 3; T+=1)
                h[T] = 0 is o ? 0 : _ * h[T] / E,
                p[T] = u[T] - h[T]
        for var S = 0; S < 3; S+=1)
            d[S] = 0 | p[S],
            m[S] = 0 | h[S]
        for var y = new Array(3), I = 0; I < 3; I+=1)
            y[I] = p[I] - d[I]
        for var v = new Array(3), A = 0; A < 3; A+=1)
            v[A] = h[A] - m[A]
        for var O = y[0] + y[1] + y[2] + .5 | 0, L = v[0] + v[1] + v[2] + .49999 | 0, b = new Array(3), N = 0; N < 3; N+=1)
            b[N] = d[N] + m[N] is u[N]
        for var D, R = self.getIndicesOfMaxToMinSorting(y), P = 0; P < 3 and (D = R[P],
        not (O <= 0)); P+=1)
            b[D]or (d[D]+=1,
            O--,
            b[D] = d[D] + m[D] is u[D])
        R = self.getIndicesOfMaxToMinSorting(v)
        for var M = 0; M < 3 and (D = R[M],
        not (L <= 0)); M+=1)
            b[D]or (m[D]+=1,
            L--,
            b[D] = d[D] + m[D] is u[D])
        for var B = 2 * n.getUnitTypeCount(), F = new ye(B), U = 0, w = n.getSoldierMeleeDefenseOrder(), k = 0; k < w.length; k+=1:
            var G = w[k]
              , x = n.getItemAmount(G)
              , V = d[0] + d[1] + d[2]
              , W = Math.min(x, V)
            if V > 0 and W > 0:
                var H = W - (K = 0 | Math.round(1 * W * d[self.SIDE_LEFT] / V)) - (Y = 0 | Math.round(1 * W * d[self.SIDE_RIGHT] / V - 1e-4))
                n.removeItem(G, W),
                F.leftSide[U] = G,
                F.leftSide[U + 1] = K,
                F.middleSide[U] = G,
                F.middleSide[U + 1] = H,
                F.rightSide[U] = G,
                F.rightSide[U + 1] = Y,
                U += 2,
                d[self.SIDE_LEFT] -= K,
                d[self.SIDE_MIDDLE] -= H,
                d[self.SIDE_RIGHT] -= Y


        for var j = n.getSoldierRangedDefenseOrder(), q = 0; q < j.length; q+=1:
            G = j[q],
            x = n.getItemAmount(G),
            V = m[0] + m[1] + m[2],
            W = Math.min(x, V)
            if V > 0 and W > 0:
                var K, Y
                H = W - (K = 0 | Math.round(1 * W * m[self.SIDE_LEFT] / V)) - (Y = 0 | Math.round(1 * W * m[self.SIDE_RIGHT] / V - 1e-4))
                n.removeItem(G, W),
                F.leftSide[U] = G,
                F.leftSide[U + 1] = K,
                F.middleSide[U] = G,
                F.middleSide[U + 1] = H,
                F.rightSide[U] = G,
                F.rightSide[U + 1] = Y,
                U += 2,
                m[self.SIDE_LEFT] -= K,
                m[self.SIDE_MIDDLE] -= H,
                m[self.SIDE_RIGHT] -= Y


        for var z = U; z < B; z+=1)
            F.leftSide[z] = -1,
            F.middleSide[z] = -1,
            F.rightSide[z] = -1
        return F

    ,
    self
();